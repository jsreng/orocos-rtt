***************
*** 1,26 ****
- INCLUDE (${PROJ_SOURCE_DIR}/config/TaoIDL.cmake)
- INCLUDE (${PROJ_SOURCE_DIR}/config/DependentOption.cmake)
- 
- #this option was set in global_rules.cmake
  IF(ENABLE_CORBA)
    MESSAGE( "CORBA Support enabled.")
    # Finally:
  
-   INCLUDE (${PROJ_SOURCE_DIR}/config/UseCorba.cmake)
- 
-   # used for building the library
-   FOREACH(INC ${ORO_ACETAO_INCLUDE_DIRS} )
- 	SET(INC_LIST "${INC_LIST} -I${INC}")
-   ENDFOREACH(INC ${ORO_ACETAO_INCLUDE_DIRS} )
- 
-   LINK_LIBRARIES( ${ORO_ACETAO_LIBRARIES} )
-   FOREACH(LIB ${ORO_ACETAO_LIBRARIES} )
- 	SET(LIB_LIST "${LIB_LIST} -l${LIB}")
-   ENDFOREACH(LIB ${ORO_ACETAO_LIBRARIES} )
- 
-   SET(RTT_CORBA_CFLAGS "${ORO_ACETAO_DEFINITIONS} ${INC_LIST}" CACHE INTERNAL "")
-   SET(RTT_CORBA_LINKFLAGS "-L${ORO_ACETAO_LIBRARY_PATH} ${LIB_LIST}" CACHE INTERNAL "")
- 
  
    FILE( GLOB IDLS [^.]*.idl )
    FILE( GLOB CPPS [^.]*.cpp )
--- 1,15 ----
+ # this option was set in global_rules.cmake
  IF(ENABLE_CORBA)
    MESSAGE( "CORBA Support enabled.")
    # Finally:
+  
+   INCLUDE_DIRECTORIES(${CORBA_INCLUDE_DIRS})
+   LINK_DIRECTORIES(${CORBA_LINK_DIRECTORIES})
+   ADD_DEFINITIONS(${CORBA_DEFINES})
  
+   SET(RTT_CFLAGS ${RTT_CFLAGS} ${CORBA_CFLAGS})
+   SET(RTT_LINKFLAGS ${RTT_CFLAGS} ${CORBA_LDFLAGS})
+   LINK_LIBRARIES( ${CORBA_LIBRARIES} )
  
    FILE( GLOB IDLS [^.]*.idl )
    FILE( GLOB CPPS [^.]*.cpp )
